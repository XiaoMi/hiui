# Select 选择器

选择器是一种接收数据的容器，为用户提供选择一部分数据的能力。

## 何时使用

- 需要从大量的离散型数据中选择一部分时使用
- 备选项数量 5 个以上时
- 不需要将全部备选项都展示给用户时

## 类型

### 单选

import DemoType from '../../demo/select/section-type'

<DemoType />

## 禁止状态

import DemoBan from '../../demo/select/section-ban'

<DemoBan />

## 自定义模板

import DemoCustom from '../../demo/select/section-custom'

<DemoCustom />

## 异步单选

import DemoAsync from '../../demo/select/section-async'

<DemoAsync />

## 多选

import DemoMultiple from '../../demo/select/section-multiple'

<DemoMultiple />

## 单行多选

import DemoSingleMultiple from '../../demo/select/section-single-multiple'

<DemoSingleMultiple />

## 异步多选

import DemoAsyncMultiple from '../../demo/select/section-async-multiple'

<DemoAsyncMultiple />

## Props

| 参数         | 说明                                                 | 类型                                            | 可选值                 | 默认值   |
| ------------ | ---------------------------------------------------- | ----------------------------------------------- | ---------------------- | -------- |
| type         | 下拉框类型                                           | string                                          | 'single' \| 'multiple' | 'single' |
| multipleWrap | 多选模式下是否允许换行                               | string                                          | 'wrap' \| 'nowrap'     | 'wrap'   |
| data         | 下拉框选项数据源                                     | DataItem[]                                      | -                      | -        |
| dataSource   | 异步下拉框选项数据源                                 | DataSource                                      | -                      | -        |
| value        | 默认被选中项的值                                     | string \| string[]                              | -                      | -        |
| showCheckAll | 是否显示全选，只对多选生效                           | boolean                                         | true \| false          | false    |
| searchable   | 是否可以筛选                                         | boolean                                         | true \| false          | false    |
| clearable    | 是否可以清空                                         | boolean                                         | true \| false          | true     |
| autoload     | origin 从远端获取数据，初始时是否自动加载            | boolean                                         | true \| false          | false    |
| disabled     | 是否禁用                                             | boolean                                         | true \| false          | false    |
| placeholder  | 输入框占位                                           | string                                          | -                      | 请选择   |
| emptyContent | 没有选项时的提示                                     | string \| ReactNode                             | -                      | 无内容   |
| onChange     | 改变选项时触发函数，回调值为当前选中项的数据         | (item: DataItem \| DataItem[]) => void          | -                      | 无内容   |
| render       | 自定义下拉菜单渲染函数，回调值为选项数据和是否被选中 | (item: DataItem, selectd: boolean) => ReactNode | -                      | 无内容   |

## Type

**_DataItem_**

| 参数     | 说明            | 类型   | 可选值      | 默认值 |
| -------- | --------------- | ------ | ----------- | ------ |
| title    | 下拉选项标题    | string | -           | -      |
| id       | 下拉选项唯一 id | string | get \| post | get    |
| disabled | 是否禁用        | object | -           | -      |

**_DataSource_**

| 参数              | 说明                               | 类型                             | 可选值                                             | 默认值        |
| ----------------- | ---------------------------------- | -------------------------------- | -------------------------------------------------- | ------------- |
| url               | 请求的 url                         | string                           | -                                                  | -             |
| type              | 请求方法                           | string                           | get \| post                                        | get           |
| data              | post 请求时请求体参数              | object                           | -                                                  | -             |
| params            | url 查询参数                       | object                           | -                                                  | -             |
| headers           | 请求头                             | object                           | -                                                  | -             |
| mode              | 请求模式                           | string                           | 'same-origin' \| 'cors' \| 'no-cors' \| 'navigate' | 'same-origin' |
| transformResponse | 成功时的回调，用于对数据进行预处理 | (response: object) => DataItem[] | -                                                  | -             |

<div style={{ position: 'relative' }}>
  <span
    style={{
      position: 'absolute',
      background: '#fff',
      left: '50%',
      transform: 'translate(-50%, -50%)',
      fontSize: '14px',
      padding: 8,
      color: '#999'
    }}
  >
    以下为 1.5.x 版本 API，设置 legacy=true 使用老版组件
  </span>
  <hr
    style={{ marginTop: 50, marginBottom: 20, border: '0.5px dashed #c8c8c8' }}
  />
</div>

### Select Attributes

| 参数                    | 说明                                                                                   | 类型                      | 可选值             | 默认值                 |
| ----------------------- | -------------------------------------------------------------------------------------- | ------------------------- | ------------------ | ---------------------- |
| mode                    | 下拉框类型                                                                             | String                    | single \| multiple | single                 |
| multipleMode (1.4 新增) | 多选模式，wrap 会显示所有已选中项，超出换行；nowrap 只显示一行，超出的以数字显示       | String                    | wrap \| nowrap     | wrap                   |
| list                    | 下拉框选项，一般为 {name: '', id: ''} 形式。可以加入 'disabled' 属性，表示是否禁止选择 | Array                     | -                  | -                      |
| origin                  | 异步选择配置，详见下表                                                                 | Object                    | -                  | -                      |
| value                   | 默认值被选中项，值与被选中的 id 相同，多个以,分割或者传递数组                          | String \| Number \| Array | -                  | -                      |
| showCheckAll            | 是否显示全选，只对多选生效                                                             | Boolean                   | true \| false      | false                  |
| open (1.5 新增)         | 是否显示下拉菜单                                                                       | Boolean                   | true \| false      | true                   |
| searchable              | 是否可以筛选                                                                           | Boolean                   | true \| false      | false                  |
| clearable               | 是否可以清空                                                                           | Boolean                   | true \| false      | true                   |
| autoload                | origin 从远端获取数据，初始时是否自动加载                                              | Boolean                   | true \| false      | false                  |
| disabled                | 禁用该下拉框                                                                           | Boolean                   | true \| false      | false                  |
| placeholder             | 提示信息                                                                               | String                    | -                  | 请选择                 |
| noFoundTip              | 没有选项时的提示                                                                       | String                    | -                  | 无内容                 |
| style                   | 自定义样式                                                                             | Object                    | -                  | -                      |
| optionWidth (1.4 新增)  | 选项的宽度                                                                             | Number                    | -                  | 默认和 select 宽度一致 |

## origin Options

| 参数     | 说明                                             | 类型                                             | 可选值      | 默认值  |
| -------- | ------------------------------------------------ | ------------------------------------------------ | ----------- | ------- |
| url      | 请求的 url                                       | String                                           | -           | -       |
| type     | 请求方法                                         | String                                           | get \| post | get     |
| data     | post 请求时的参数                                | Object                                           | -           | -       |
| key      | 搜索关键字参数 key                               | String                                           | -           | keyword |
| keyword  | autoload 为 true 时的默认搜索关键词              | String                                           | -           | -       |
| func     | 成功时的回调                                     | Function                                         | -           | -       |
| error    | 失败时的回调                                     | Function                                         | -           | -       |
| -        | 其他的一些 fetch 设置，如 headers,credentials 等 | Object                                           | -           | -       |
| onChange | 改变选项时触发函数                               | (item: Object\|Array, changedItem:Object\|Array) | -           |
